"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[771],{6068:(e,i,r)=>{r.d(i,{A:()=>s,AuthProvider:()=>a});var t=r(5155),n=r(2115);let o=(0,n.createContext)();function a(e){let{children:i}=e,[r,a]=(0,n.useState)(!1),[s,l]=(0,n.useState)(!1),[c,d]=(0,n.useState)(!0),[h,b]=(0,n.useState)(!1),x=async()=>{d(!0);try{let e=await fetch("/sae202/?page=accueil&format=json",{credentials:"include"}),i=await e.json();a(i.isConnected),l(i.isAdmin)}catch(e){a(!1),l(!1)}d(!1),b(!0)};return(0,n.useEffect)(()=>{h||x()},[h]),(0,t.jsx)(o.Provider,{value:{isConnected:r,isAdmin:s,isLoading:c,hasFetched:h,refreshAuth:x,setIsConnected:a,setIsAdmin:l},children:i})}function s(){return(0,n.useContext)(o)}},7771:(e,i,r)=>{r.d(i,{A:()=>h});var t=r(5155),n=r(6874),o=r.n(n),a=r(2115),s=r(6766),l=r(6068),c=r(6408),d=r(760);function h(){let{isConnected:e,isAdmin:i,isLoading:r}=(0,l.A)(),[n,h]=(0,a.useState)(!1);(0,a.useEffect)(()=>{window.innerWidth>=768&&h(!1)},[]);let b=()=>h(!1),x=async e=>{e.preventDefault(),h(!1);try{(await fetch("http://localhost:8080/?page=deconnexion",{method:"GET",credentials:"include",headers:{Accept:"application/json"}})).ok?window.location.href="/":alert("Erreur lors de la d\xe9connexion")}catch(e){alert("Erreur lors de la d\xe9connexion")}},p={rest:{width:0},hover:{width:"100%"}},u=[{href:"/",label:"Accueil"},{href:"/concept",label:"Concept"},{href:"/infos",label:"Infos pratiques"}];return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(c.P.nav,{className:"w-full shadow-md relative",style:{background:"linear-gradient(90deg, #0D1A34 60%, #4A1D6D 100%)",color:"#FFFF"},variants:{hidden:{opacity:0,y:-30},visible:{opacity:1,y:0,transition:{duration:.7,ease:"easeOut"}}},initial:"hidden",animate:"visible",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-8 py-4 h-20",children:[(0,t.jsx)(o(),{href:"/",className:"font-bold tracking-wide text-lg transition-colors duration-300",onClick:b,children:(0,t.jsx)(s.default,{src:"/logo.png",alt:"Logo",width:60,height:60,className:"w-12 h-12 md:w-12 md:h-12 object-contain",priority:!0})}),(0,t.jsxs)("ul",{className:"hidden md:flex items-center gap-6",children:[u.map(e=>(0,t.jsx)(c.P.li,{className:"relative",initial:"rest",whileHover:"hover",animate:"rest",children:(0,t.jsxs)(o(),{href:e.href,className:"py-2 px-1 orbitron transition-colors duration-300 relative",children:[(0,t.jsx)("span",{children:e.label}),(0,t.jsx)(c.P.span,{variants:p,transition:{duration:.3},className:"absolute left-0 -bottom-1 h-0.5 bg-white rounded-full",style:{display:"block"}})]})},e.href)),r?(0,t.jsx)("li",{children:(0,t.jsx)("span",{className:"text-white orbitron px-3 py-1",children:"Chargement..."})}):e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.P.li,{className:"relative",initial:"rest",whileHover:"hover",animate:"rest",children:(0,t.jsxs)(o(),{href:"/messagerie",className:"py-2 px-1 orbitron transition-colors duration-300 relative",children:[(0,t.jsx)("span",{children:"Messagerie"}),(0,t.jsx)(c.P.span,{variants:p,transition:{duration:.3},className:"absolute left-0 -bottom-1 h-0.5 bg-white rounded-full",style:{display:"block"}})]})}),(0,t.jsx)(c.P.li,{className:"relative",initial:"rest",whileHover:"hover",animate:"rest",children:(0,t.jsxs)(o(),{href:"/profil",className:"py-2 px-1 orbitron transition-colors duration-300 relative",children:[(0,t.jsx)("span",{children:"Mon profil"}),(0,t.jsx)(c.P.span,{variants:p,transition:{duration:.3},className:"absolute left-0 -bottom-1 h-0.5 bg-white rounded-full",style:{display:"block"}})]})}),i&&(0,t.jsx)(c.P.li,{whileHover:{scale:1.08},children:(0,t.jsx)("a",{href:"/gestion?page=dashboard",className:"inline-block px-3 py-1 orbitron font-bold rounded border border-white hover:bg-white hover:text-[#4A1D6D] hover:shadow-lg shadow transition",children:"Admin"})}),(0,t.jsx)(c.P.li,{whileHover:{scale:1.08},children:(0,t.jsx)("button",{className:"inline-block cursor-pointer orbitron font-bold px-3 py-1 rounded border-none bg-white hover:bg-opacity-20 text-[#4A1D6D] shadow transition",onClick:x,children:"D\xe9connexion"})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.P.li,{whileHover:{scale:1.08},children:(0,t.jsx)(o(),{href:"/inscription",className:"inline-block px-3 py-1 orbitron font-bold rounded border border-white hover:bg-white hover:text-[#4A1D6D] hover:shadow-lg shadow transition",children:"Inscription"})}),(0,t.jsx)(c.P.li,{whileHover:{scale:1.08},children:(0,t.jsx)(o(),{href:"/connexion",className:"inline-block px-3 py-1 orbitron font-bold rounded border-none bg-white hover:bg-opacity-20 text-[#4A1D6D] shadow transition",children:"Connexion"})})]})]}),(0,t.jsxs)("button",{className:"md:hidden flex flex-col justify-center items-center w-8 h-8 space-y-1 focus:outline-none",onClick:()=>h(!n),"aria-label":"Menu",children:[(0,t.jsx)(c.P.span,{className:"block w-6 h-0.5 bg-white transition-all duration-300 ".concat(n?"rotate-45 translate-y-2":"")}),(0,t.jsx)(c.P.span,{className:"block w-6 h-0.5 bg-white transition-all duration-300 ".concat(n?"opacity-0":"")}),(0,t.jsx)(c.P.span,{className:"block w-6 h-0.5 bg-white transition-all duration-300 ".concat(n?"-rotate-45 -translate-y-2":"")})]})]}),(0,t.jsx)(d.N,{children:n&&(0,t.jsx)(c.P.div,{initial:"hidden",animate:"visible",exit:"exit",variants:{hidden:{y:-40,opacity:0},visible:{y:0,opacity:1,transition:{duration:.4,ease:"easeOut"}},exit:{y:-40,opacity:0,transition:{duration:.3,ease:"easeIn"}}},className:"md:hidden absolute top-full left-0 right-0 z-50",style:{background:"linear-gradient(135deg, #0D1A34 0%, #1A0D34 50%, #4A1D6D 100%)",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.3)"},children:(0,t.jsxs)("ul",{className:"flex flex-col space-y-1 p-4",children:[u.map(e=>(0,t.jsx)("li",{children:(0,t.jsx)(o(),{href:e.href,className:"block py-3 px-4 orbitron hover:bg-white hover:bg-opacity-10 rounded transition-colors duration-300",onClick:b,children:e.label})},e.href)),(0,t.jsx)("li",{className:"border-t border-white border-opacity-30 my-2"}),e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("li",{children:(0,t.jsx)(o(),{href:"/messagerie",className:"block py-3 px-4 orbitron hover:bg-white hover:bg-opacity-10 rounded transition-colors duration-300",onClick:b,children:"Messagerie"})}),(0,t.jsx)("li",{children:(0,t.jsx)(o(),{href:"/profil",className:"block py-3 px-4 orbitron hover:bg-white hover:bg-opacity-10 rounded transition-colors duration-300",onClick:b,children:"Mon profil"})}),i&&(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"/gestion?page=dashboard",className:"block text-center orbitron py-3 px-4 bg-white text-[#4A1D6D] rounded transition-colors duration-300 font-bold mb-4",onClick:b,children:"Admin"})}),(0,t.jsx)("li",{children:(0,t.jsx)("button",{className:"w-full text-center orbitron py-3 px-4 rounded transition-colors duration-300 bg-transparent border cursor-pointer border-white border-opacity-50 hover:bg-white hover:bg-opacity-10",onClick:x,children:"D\xe9connexion"})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("li",{children:(0,t.jsx)(o(),{href:"/inscription",className:"block py-3 px-4 hover:bg-white orbitron hover:bg-opacity-10 rounded transition-colors duration-300 text-center border border-white border-opacity-50",onClick:b,children:"Inscription"})}),(0,t.jsx)("li",{children:(0,t.jsx)(o(),{href:"/connexion",className:"block py-3 px-4 bg-white text-[#4A1D6D] rounded orbitron transition-colors duration-300 text-center mt-2 hover:bg-opacity-90",onClick:b,children:"Connexion"})})]})]})},"mobile-menu")})]})})}}}]);