(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[819],{5695:(e,n,s)=>{"use strict";var l=s(8999);s.o(l,"useRouter")&&s.d(n,{useRouter:function(){return l.useRouter}}),s.o(l,"useSearchParams")&&s.d(n,{useSearchParams:function(){return l.useSearchParams}})},7455:(e,n,s)=>{"use strict";s.r(n),s.d(n,{default:()=>c});var l=s(5155),r=s(2115),t=s(5695),a=s(7583),o=s(6874),i=s.n(o);function c(){let[e,n]=(0,r.useState)({nom:"",prenom:"",email:"",mot_de_passe:"",telephone:"",age:""}),[s,o]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),m=(0,t.useRouter)(),h=s=>{n({...e,[s.target.name]:s.target.value})},x=async n=>{n.preventDefault(),o(""),d(!1);let s=await fetch("/sae202/?page=inscription",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:new URLSearchParams(e),credentials:"include"}),l=await s.json();l.success?(d(!0),setTimeout(()=>m.push("/connexion"),1500)):o(l.error||"Erreur lors de l'inscription")};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.A,{isConnected:!1,isAdmin:!1}),(0,l.jsxs)("div",{className:"max-w-md mx-auto mt-8 p-6 bg-white rounded shadow",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Inscription"}),(0,l.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"nom",className:"block font-semibold mb-1",children:"Nom :"}),(0,l.jsx)("input",{type:"text",id:"nom",name:"nom",required:!0,value:e.nom,onChange:h,className:"w-full border rounded px-3 py-2"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"prenom",className:"block font-semibold mb-1",children:"Pr\xe9nom :"}),(0,l.jsx)("input",{type:"text",id:"prenom",name:"prenom",required:!0,value:e.prenom,onChange:h,className:"w-full border rounded px-3 py-2"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"email",className:"block font-semibold mb-1",children:"Email :"}),(0,l.jsx)("input",{type:"email",id:"email",name:"email",required:!0,value:e.email,onChange:h,className:"w-full border rounded px-3 py-2"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"mot_de_passe",className:"block font-semibold mb-1",children:"Mot de passe :"}),(0,l.jsx)("input",{type:"password",id:"mot_de_passe",name:"mot_de_passe",required:!0,value:e.mot_de_passe,onChange:h,className:"w-full border rounded px-3 py-2"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"telephone",className:"block font-semibold mb-1",children:"T\xe9l\xe9phone :"}),(0,l.jsx)("input",{type:"tel",id:"telephone",name:"telephone",value:e.telephone,onChange:h,className:"w-full border rounded px-3 py-2"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{htmlFor:"age",className:"block font-semibold mb-1",children:"\xc2ge :"}),(0,l.jsx)("input",{type:"number",id:"age",name:"age",min:"1",max:"120",value:e.age,onChange:h,className:"w-full border rounded px-3 py-2"})]}),(0,l.jsx)("button",{type:"submit",className:"mt-4 bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold py-2 px-4 rounded transition w-full",children:"Sâ€™inscrire"})]}),(0,l.jsxs)("p",{className:"mt-4 text-gray-700",children:["D\xe9j\xe0 inscrit ?"," ",(0,l.jsx)(i(),{href:"/connexion",className:"text-yellow-600 underline hover:text-yellow-700",children:"Connectez-vous ici"}),"."]}),s&&(0,l.jsx)("p",{className:"text-red-600 mt-4",children:s}),c&&(0,l.jsx)("p",{className:"text-green-600 mt-4",children:"Inscription r\xe9ussie ! Redirection..."})]})]})}},7583:(e,n,s)=>{"use strict";s.d(n,{A:()=>a});var l=s(5155),r=s(6874),t=s.n(r);function a(e){let{isConnected:n,isAdmin:s}=e;return(0,l.jsx)("nav",{className:"bg-gray-900 text-white shadow mb-8",children:(0,l.jsxs)("ul",{className:"flex flex-wrap items-center gap-4 px-6 py-3",children:[(0,l.jsx)("li",{children:(0,l.jsx)(t(),{href:"/",className:"hover:text-yellow-400 font-semibold transition",children:"Accueil"})}),(0,l.jsx)("li",{children:(0,l.jsx)(t(),{href:"/concept",className:"hover:text-yellow-400 transition",children:"Concept"})}),(0,l.jsx)("li",{children:(0,l.jsx)(t(),{href:"/infos",className:"hover:text-yellow-400 transition",children:"Infos pratiques"})}),n?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("li",{children:(0,l.jsx)(t(),{href:"/messagerie",className:"hover:text-yellow-400 transition",children:"Messagerie interne"})}),(0,l.jsx)("li",{children:(0,l.jsx)(t(),{href:"/profil",className:"hover:text-yellow-400 transition",children:"Mon profil"})}),s&&(0,l.jsx)("li",{children:(0,l.jsx)(t(),{href:"/gestion",className:"hover:text-red-400 font-bold transition",children:"Admin"})}),(0,l.jsx)("li",{children:(0,l.jsx)("button",{className:"hover:text-yellow-400 transition bg-transparent border-none p-0 m-0 cursor-pointer",style:{background:"none"},onClick:async e=>{e.preventDefault();try{(await fetch("/sae202/?page=deconnexion",{method:"GET",credentials:"include",headers:{Accept:"application/json"}})).ok?window.location.href="/":alert("Erreur lors de la d\xe9connexion")}catch(e){alert("Erreur lors de la d\xe9connexion")}},children:"D\xe9connexion"})})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("li",{children:(0,l.jsx)(t(),{href:"/inscription",className:"hover:text-yellow-400 transition",children:"Inscription"})}),(0,l.jsx)("li",{children:(0,l.jsx)(t(),{href:"/connexion",className:"hover:text-yellow-400 transition",children:"Connexion"})})]}),(0,l.jsx)("li",{children:(0,l.jsx)(t(),{href:"/mentions-legales",className:"hover:text-yellow-400 transition",children:"Mentions l\xe9gales"})})]})})}},8987:(e,n,s)=>{Promise.resolve().then(s.bind(s,7455))}},e=>{var n=n=>e(e.s=n);e.O(0,[874,441,684,358],()=>n(8987)),_N_E=e.O()}]);