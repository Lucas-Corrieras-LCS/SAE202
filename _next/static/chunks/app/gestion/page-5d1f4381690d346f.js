(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[22],{130:(e,s,n)=>{Promise.resolve().then(n.bind(n,1968))},1968:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>r});var t=n(5155),a=n(2115),i=n(5235);function r(){let[e,s]=(0,a.useState)(null),[n,r]=(0,a.useState)("");return((0,a.useEffect)(()=>{fetch("/sae202/?page=dashboard_json",{credentials:"include",headers:{Accept:"application/json"}}).then(async e=>{let s=e.headers.get("content-type");if(s&&s.includes("application/json"))return e.json();throw Error("R\xe9ponse inattendue : "+await e.text())}).then(e=>{e.error?r(e.error):s(e)}).catch(e=>r(e.message))},[]),n)?(0,t.jsxs)("div",{className:"max-w-xl mx-auto mt-8 p-6 bg-white rounded shadow text-red-600",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Acc\xe8s refus\xe9"}),(0,t.jsx)("p",{children:"Acc\xe8s refus\xe9"===n?(0,t.jsxs)(t.Fragment,{children:["Vous n'\xeates pas admin."," ",(0,t.jsx)("a",{href:"/inscription.html",children:"Inscrivez-vous"})," ou"," ",(0,t.jsx)("a",{href:"/connexion.html",children:"connectez-vous"})," avec un compte admin."]}):n})]}):e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.A,{isConnected:!0,isAdmin:!0}),(0,t.jsxs)("div",{className:"max-w-xl mx-auto mt-8 p-6 bg-white rounded shadow",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Dashboard Admin"}),(0,t.jsxs)("ul",{className:"space-y-2",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Utilisateurs :"})," ",e.nbUsers]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Commentaires :"})," ",e.nbCommentaires]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("span",{className:"font-semibold",children:"Commentaires en attente :"})," ",e.nbCommentairesEnAttente]})]})]})]}):(0,t.jsx)("div",{children:"Chargement..."})}},5235:(e,s,n)=>{"use strict";n.d(s,{A:()=>r});var t=n(5155),a=n(6874),i=n.n(a);function r(){return(0,t.jsx)("nav",{className:"bg-gray-900 text-white shadow mb-8",children:(0,t.jsxs)("ul",{className:"flex flex-wrap items-center gap-4 px-6 py-3",children:[(0,t.jsx)("li",{children:(0,t.jsx)(i(),{href:"/gestion",className:"hover:text-yellow-400 font-semibold transition",children:"Tableau de bord"})}),(0,t.jsx)("li",{children:(0,t.jsx)(i(),{href:"/gestion/utilisateurs",className:"hover:text-yellow-400 transition",children:"Utilisateurs"})}),(0,t.jsx)("li",{children:(0,t.jsx)(i(),{href:"/gestion/commentaires",className:"hover:text-yellow-400 transition",children:"Commentaires"})}),(0,t.jsx)("li",{children:(0,t.jsx)(i(),{href:"/",className:"hover:text-yellow-400 transition",children:"Retour \xe0 l'accueil du site"})})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[874,441,684,358],()=>s(130)),_N_E=e.O()}]);