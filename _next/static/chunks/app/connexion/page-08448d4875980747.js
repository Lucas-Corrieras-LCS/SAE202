(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[106],{5302:(e,t,s)=>{Promise.resolve().then(s.bind(s,6903))},5695:(e,t,s)=>{"use strict";var n=s(8999);s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}})},6903:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var n=s(5155),a=s(2115),i=s(5695),r=s(7771),l=s(6874),o=s.n(l),c=s(6068),d=s(6408),u=s(5666);let m={hidden:{opacity:0,y:30},visible:{opacity:1,y:0,transition:{duration:.5}}};function x(e){let{email:t,setEmail:s,motDePasse:a,setMotDePasse:i,error:r,handleSubmit:l}=e;return(0,n.jsxs)("section",{className:"min-h-screen bg-gradient-to-br from-[#2D3670] via-[#1A2454] to-[#0D1A34] flex flex-col items-center justify-center px-2 py-10 relative",children:[(0,n.jsx)(u.kQ,{speed:-20,children:(0,n.jsx)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[60vw] h-[60vw] bg-purple-700/20 blur-3xl rounded-full z-0 pointer-events-none"})}),(0,n.jsxs)(d.P.div,{className:"relative z-10 w-full max-w-md bg-white/10 backdrop-blur-lg rounded-3xl shadow-2xl border border-white/10 p-8 md:p-12",initial:{opacity:0,y:40,scale:.97},animate:{opacity:1,y:0,scale:1},transition:{duration:.7,ease:[.25,.1,.25,1]},children:[(0,n.jsx)("h1",{className:"orbitron text-3xl md:text-4xl font-bold mb-8 text-white text-center",children:"Connexion"}),(0,n.jsxs)(d.P.form,{onSubmit:l,className:"space-y-5",initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.12}}},children:[(0,n.jsxs)(d.P.div,{variants:m,children:[(0,n.jsx)("label",{htmlFor:"email",className:"block font-semibold mb-1 text-[#B0B4CC]",children:"Email :"}),(0,n.jsx)("input",{type:"email",id:"email",name:"email",required:!0,value:t,onChange:e=>s(e.target.value),className:"w-full rounded-xl px-4 py-2 bg-white/20 text-white border border-white/20 focus:outline-none focus:ring-2 focus:ring-[#6B21A8] transition"})]}),(0,n.jsxs)(d.P.div,{variants:m,children:[(0,n.jsx)("label",{htmlFor:"mot_de_passe",className:"block font-semibold mb-1 text-[#B0B4CC]",children:"Mot de passe :"}),(0,n.jsx)("input",{type:"password",id:"mot_de_passe",name:"mot_de_passe",required:!0,value:a,onChange:e=>i(e.target.value),className:"w-full rounded-xl px-4 py-2 bg-white/20 text-white border border-white/20 focus:outline-none focus:ring-2 focus:ring-[#6B21A8] transition"})]}),(0,n.jsx)(d.P.button,{type:"submit",className:"w-full mt-4 bg-gradient-to-r from-[#023377] to-[#6B21A8] text-white font-bold py-2 px-4 rounded-full shadow-lg transition-transform duration-300",whileHover:{scale:1.04},whileTap:{scale:.97},variants:m,children:"Se connecter"})]}),(0,n.jsxs)("p",{className:"mt-6 text-[#B0B4CC] text-center",children:["Pas encore inscrit ?"," ",(0,n.jsx)(o(),{href:"/inscription",className:"text-yellow-400 underline hover:text-yellow-300",children:"Inscrivez-vous ici"}),"."]}),r&&(0,n.jsx)("p",{className:"text-red-400 mt-4 text-center",children:r})]})]})}function h(){let[e,t]=(0,a.useState)(""),[s,l]=(0,a.useState)(""),[o,d]=(0,a.useState)("");(0,i.useRouter)();let{refreshAuth:u}=(0,c.A)(),m=async t=>{t.preventDefault(),d("");let n=await fetch("/sae202/?page=connexion",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:new URLSearchParams({email:e,mot_de_passe:s}),credentials:"include"});if(n.ok){let e=await n.json();e.success?(await u(),window.location.href="/"):d(e.error||"Erreur lors de la connexion")}else d("Erreur lors de la connexion")};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.A,{}),(0,n.jsx)(x,{email:e,setEmail:t,motDePasse:s,setMotDePasse:l,error:o,handleSubmit:m})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[589,666,21,771,441,684,358],()=>t(5302)),_N_E=e.O()}]);